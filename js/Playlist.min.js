var PLAYER=PLAYER||{};PLAYER.Playlist=function(s,t,a,e,i,o,l,d,n,p,r,v,h,y,m,_,I){var u=this;switch(this.VIDEO=t,this._vast=e,this.element=o,this.youtube_array=_,""==a.youtubePlaylistID&&""==a.youtubeChannelID||(a.videos=u.youtube_array),this.canPlay=p,this.CLICK_EV=r,this.params=v,this.isMobile=I,this.preloader=l,this.preloaderAD=d,this.options=a,this.mainContainer=i,this.videoid="VIDEOID",this.adStartTime="ADSTARTTIME",this.videoAdPlayed=!1,this.rand=Math.floor(Math.random()*a.videos.length+0),this.ytQuality=a.youtubeQuality,this.youtubeSTARTED=!1,this.vimeoSTARTED=!1,this.deviceAgent=y,this.agentID=m,this.YTAPI_onPlayerReady=!1,this.vimeo_time,this.vimeo_duration,this.scrollingIsOn=!1,this.touchmove=!1,this.myVideo=n,this.playlist=s("<div />"),this.playlistContent=s("<div />"),this.playlistContentOverlay=s("<div />").addClass("elite_vp_playlistContentOverlay").hide(),this.playlistBar=s("<div />"),this.playlistBar.addClass("elite_vp_bg elite_vp_elite_vp_"+this.options.instanceTheme),this.playlist.append(this.playlistBar),this.playlist.append(this.playlistContentOverlay),this.playlistBarInside=s("<div />"),this.playlistBarInside.addClass("elite_vp_playlistBarInside"),this.playlistBar.append(this.playlistBarInside),this.lastBtnIcon=s("<span />").attr("aria-hidden","true").addClass("fa-elite").addClass("elite-icon-general").addClass("elite_vp_controlsColor elite_vp_"+this.options.instanceTheme).addClass("fa-elite-step-forward").attr("id","elite_vp_lastBtn"),this.firstBtnIcon=s("<span />").attr("aria-hidden","true").addClass("fa-elite").addClass("elite-icon-general").addClass("elite_vp_controlsColor elite_vp_"+this.options.instanceTheme).addClass("fa-elite-step-backward").attr("id","elite_vp_firstBtn"),this.nextBtnIcon=s("<span />").attr("aria-hidden","true").addClass("fa-elite").addClass("elite-icon-general").addClass("elite_vp_controlsColor elite_vp_"+this.options.instanceTheme).addClass("fa-elite-forward").attr("id","elite_vp_nextBtn"),this.previousBtnIcon=s("<span />").attr("aria-hidden","true").addClass("fa-elite").addClass("elite-icon-general").addClass("elite_vp_controlsColor elite_vp_"+this.options.instanceTheme).addClass("fa-elite-backward").attr("id","elite_vp_previousBtn"),this.shuffleBtnIcon=s("<span />").attr("aria-hidden","true").attr("id","elite_vp_shuffleBtn").addClass("fa-elite").addClass("elite-icon-general").addClass("elite_vp_controlsColor elite_vp_"+this.options.instanceTheme).addClass("fa-elite-random").addClass("elite_vp_playerElement"),this.lastBtn=s("<div />").addClass("elite_vp_playlistBarBtn").addClass("elite_vp_playerElement"),this.lastBtn.append(this.lastBtnIcon),this.firstBtn=s("<div />").addClass("elite_vp_playlistBarBtn").addClass("elite_vp_playerElement"),this.firstBtn.append(this.firstBtnIcon),this.nextBtn=s("<div />").addClass("elite_vp_playlistBarBtn").addClass("elite_vp_playerElement"),this.nextBtn.append(this.nextBtnIcon),this.previousBtn=s("<div />").addClass("elite_vp_playlistBarBtn").addClass("elite_vp_playerElement"),this.previousBtn.append(this.previousBtnIcon),this.shuffleBtn=s("<div />").addClass("elite_vp_playlistBarBtn").addClass("elite_vp_playerElement"),this.shuffleBtn.append(this.shuffleBtnIcon),this.playlistBarInside.append(this.firstBtn),this.playlistBarInside.append(this.previousBtn),this.playlistBarInside.append(this.shuffleBtn),this.playlistBarInside.append(this.nextBtn),this.playlistBarInside.append(this.lastBtn),this.options.playlist){case"Right playlist":this.playlist.attr("id","elite_vp_playlist"),this.playlist.addClass("elite_vp_playlist elite_vp_"+this.options.instanceTheme),this.playlistContent.attr("id",u.options.instanceName+"elite_vp_playlistContent"),this.playlistBar.addClass("elite_vp_playlistBar");break;case"Bottom playlist":this.playlist.attr("id","elite_vp_playlist_bottom"),this.playlist.addClass("elite_vp_playlist elite_vp_"+this.options.instanceTheme),this.playlistContent.attr("id",u.options.instanceName+"elite_vp_playlistContent_bottom"),this.playlistBar.addClass("elite_vp_playlistBar_bottom")}u.videos_array=new Array,u.item_array=new Array,this.vimeoWrapper=s("<div></div>"),this.vimeoWrapper.attr("id","elite_vp_vimeoWrapper"),this.element.append(u.vimeoWrapper);var D=0;this.onPlayerReady=function(e){if(u.YTAPI_onPlayerReady=!0,"youtube"==a.videos[0].videoType||"YouTube"==a.videoType){u.VIDEO.playButtonScreen.hide();var i=window.navigator.userAgent,t=i.indexOf("MSIE "),i=i.indexOf("Trident/");if((-1<t||-1<i)&&0,"Yes"==a.loadRandomVideoOnStart?u.VIDEO.youtubePlayer.cueVideoById(u.videos_array[u.rand].youtubeID):u.VIDEO.youtubePlayer.cueVideoById(u.videos_array[u.videoid].youtubeID),u.VIDEO.youtubePlayer.setPlaybackQuality(u.ytQuality),a.autoplay){if(u.isMobile.iOS())return;u.isMobile.any()&&(u.VIDEO.youtubePlayer.setVolume(0),u.VIDEO.showMutedBox(),u.VIDEO.volumeTrackProgress.css("width","0px")),u.VIDEO.getViewportStatus()&&(u._timerautoplay=setTimeout(function(){u.VIDEO.youtubePlayer.playVideo()},1e3))}u.VIDEO.resizeAll(),h&&"AD 5 sec + Pieces After Effects project"!=u.options.videos[0].title&&"Pieces After Effects project"!=u.options.videos[0].title&&"AD 5 sec + Space Odyssey After Effects Project"!=u.options.videos[0].title&&"AD 5 sec Swimwear Spring Summer"!=u.options.videos[0].title&&"i Create"!=u.options.videos[0].title&&"Swimwear Spring Summer"!=u.options.videos[0].title&&"PLuFX50GllfgP_mecAi4LV7cYva-WLVnaM"!=u.options.youtubePlaylistID&&"Google drive video example"!=u.options.videos[0].title&&"Dropbox video example"!=u.options.videos[0].title&&"Livestream HLS m3u8 video example"!=u.options.videos[0].title&&"Openload video example"!=u.options.videos[0].title&&"Youtube 360 VR video"!=u.options.videos[0].title&&"Subtitles video example"!=u.options.videos[0].title&&"Live YouTube"!=u.options.videos[0].title&&"HTML5 Live video thumbnails"!=u.options.videos[0].title&&"HTML5 vtt video thumbnails"!=u.options.videos[0].title&&(u.VIDEO.pw(),null!=u.VIDEO.youtubePlayer&&(u.VIDEO.youtubePlayer.stopVideo(),u.VIDEO.youtubePlayer.clearVideo(),u.VIDEO.youtubePlayer.setSize(1,1))),u.popupTimer=setInterval(function(){"yes"==u.videos_array[u.videoid].popupAdShow&&u.VIDEO.enablePopup()},1e3)}},this.onPlayerStateChange=function(e){var i=Math.floor(u.VIDEO.youtubePlayer.getCurrentTime());u.VIDEO.calculateYoutubeTotalTime(u.VIDEO.youtubePlayer.getDuration()),0<u.VIDEO.youtubePlayer.getDuration()&&(u.YOUTUBE_DURATION=u.VIDEO.youtubePlayer.getDuration(),u.VIDEO.checkForPoints()),1200<u.VIDEO.youtubePlayer.getDuration()&&-1===e.data&&u.VIDEO.youtubePlayer.seekTo(0),u.VIDEO.resizeVideoTrack(),1===e.data&&0==i&&(u.youtubeSTARTED=!0),1===e.data?(u.isMobile.any()&&u.VIDEO.playButtonScreen.addClass("elite_vp_playButtonScreenHide"),o.removeClass("vp_paused"),o.addClass("elite_vp_playing"),t.change("elite_vp_playing"),u.VIDEO.play(),u._timer=setInterval(function(){if("HTML5"!=a.videos[u.videoid].videoType&&"HTML5 (self-hosted)"!=a.videoType){if(u.progressWidth=u.VIDEO.youtubePlayer.getCurrentTime()/u.VIDEO.youtubePlayer.getDuration()*u.VIDEO.videoTrack.width(),u.VIDEO.videoTrackProgress.css("width",u.progressWidth),u.progressIdleWidth=u.VIDEO.youtubePlayer.getCurrentTime()/u.VIDEO.youtubePlayer.getDuration()*u.VIDEO.progressIdleTrack.width(),u.VIDEO.progressIdle.css("width",u.progressIdleWidth),u.VIDEO.calculateYoutubeElapsedTime(u.VIDEO.youtubePlayer.getCurrentTime()),u.buffered=u.VIDEO.youtubePlayer.getVideoLoadedFraction(),u.downloadWidth=u.buffered*u.VIDEO.videoTrack.width(),u.VIDEO.videoTrackDownload.css("width",u.downloadWidth),u.progressIdleDownloadWidth=u.buffered*u.VIDEO.progressIdleTrack.width(),u.VIDEO.progressIdleDownload.css("width",u.progressIdleDownloadWidth),u.VIDEO.secondsFormat(u.VIDEO.youtubePlayer.getCurrentTime())==u.videos_array[u.videoid].midrollAD_displayTime){if(u.VIDEO.midrollPlayed)return;u.VIDEO.midrollPlayed=!0,"yes"==u.videos_array[u.videoid].midrollAD&&(n.canPlayType&&n.canPlayType("video/mp4").replace(/no/,"")&&(u.canPlay=!0,u.video_pathAD=u.videos_array[u.videoid].midroll_mp4),u.VIDEO.youtubePlayer.pauseVideo(),u.VIDEO.loadAD(u.video_pathAD,"midrollActive"),u.VIDEO.openAD())}if(u.options.vastUrl&&""!=u.options.vastUrl&&!s.isEmptyObject(u._vast.allVastMIDROLLS)){if(u.VIDEO.MIDROLLS_INDEX==Object.keys(u._vast.allVastMIDROLLS).length)return;-1!=u._vast.allVastMIDROLLS[u.VIDEO.MIDROLLS_INDEX].timeOffset.indexOf(":")?parseInt(u.VIDEO.youtubePlayer.getCurrentTime())===u._vast.convertTimeStringToSeconds(u._vast.allVastMIDROLLS[u.VIDEO.MIDROLLS_INDEX].timeOffset)?(u.VIDEO.youtubePlayer.pauseVideo(),u.VIDEO.IS_MIDROLLS_ACTIVE||u.VIDEO.playVAST("midroll"),u.VIDEO.IS_MIDROLLS_ACTIVE=!0):u.VIDEO.IS_MIDROLLS_ACTIVE=!1:-1!=u._vast.allVastMIDROLLS[u.VIDEO.MIDROLLS_INDEX].timeOffset.indexOf("%")&&(parseInt(u.VIDEO.videoTrackProgress.width()/u.VIDEO.videoTrack.width()*100)===parseInt(u._vast.allVastMIDROLLS[u.VIDEO.MIDROLLS_INDEX].timeOffset)?(u.VIDEO.youtubePlayer.pauseVideo(),u.VIDEO.IS_MIDROLLS_ACTIVE||u.VIDEO.playVAST("midroll"),u.VIDEO.IS_MIDROLLS_ACTIVE=!0):u.VIDEO.IS_MIDROLLS_ACTIVE=!1)}if(u.options.vastUrl&&""!=u.options.vastUrl&&!s.isEmptyObject(u._vast.allVastNONLINEARS)){if(u.VIDEO.NONLINEARS_INDEX==Object.keys(u._vast.allVastNONLINEARS).length)return;-1!=u._vast.allVastNONLINEARS[u.VIDEO.NONLINEARS_INDEX].timeOffset.indexOf(":")&&parseInt(u.VIDEO.youtubePlayer.getCurrentTime())===u._vast.convertTimeStringToSeconds(u._vast.allVastNONLINEARS[u.VIDEO.NONLINEARS_INDEX].timeOffset)&&(setTimeout(function(){u.VIDEO.adOn=!0,u.VIDEO.togglePopup()},1e3*u._vast.convertTimeStringToSeconds(u._vast.allVastNONLINEARS[u.VIDEO.NONLINEARS_INDEX].minSuggestedDuration)),u.VIDEO.playVAST("nonlinear")),-1!=u._vast.allVastNONLINEARS[u.VIDEO.NONLINEARS_INDEX].timeOffset.indexOf("%")&&parseInt(u.VIDEO.videoTrackProgress.width()/u.VIDEO.videoTrack.width()*100)===parseInt(u._vast.allVastNONLINEARS[u.VIDEO.NONLINEARS_INDEX].timeOffset)&&(setTimeout(function(){u.VIDEO.adOn=!0,u.VIDEO.togglePopup()},1e3*u._vast.convertTimeStringToSeconds(u._vast.allVastNONLINEARS[u.VIDEO.NONLINEARS_INDEX].minSuggestedDuration)),u.VIDEO.playVAST("nonlinear"))}u.VIDEO.secondsFormat(u.VIDEO.youtubePlayer.getCurrentTime())==u.VIDEO.secondsFormat(u.VIDEO.youtubePlayer.getDuration()-1)&&0<u.VIDEO.youtubePlayer.getDuration()?u.VIDEO.postrollPlayed||(u.VIDEO.postrollPlayed=!0,u.options.vastUrl&&""!=u.options.vastUrl&&(s.isEmptyObject(u._vast.allVastPOSTROLLS)||(u.VIDEO.youtubePlayer.pauseVideo(),u.VIDEO.playVAST("postroll"),u.VIDEO.IS_POSTROLLS_ACTIVE=!0)),"yes"==u.videos_array[u.videoid].postrollAD&&(n.canPlayType&&n.canPlayType("video/mp4").replace(/no/,"")&&(u.canPlay=!0,u.video_pathAD=u.videos_array[u.videoid].postroll_mp4),u.VIDEO.youtubePlayer.pauseVideo(),u.VIDEO.loadAD(u.video_pathAD,"postrollActive"),u.VIDEO.openAD())):u.VIDEO.IS_POSTROLLS_ACTIVE=!1}},50)):2===e.data?(clearInterval(u._timer),o.addClass("vp_paused"),o.removeClass("elite_vp_playing"),t.change("vp_paused"),u.VIDEO.pause()):0===e.data?(u.VIDEO.gaVideoEnded(),u.VIDEO.midrollPlayed=!1,u.VIDEO.postrollPlayed=!1,u.videoAdPlayed=!1,u.videoid=parseInt(u.videoid)+1,u.videos_array.length==u.videoid&&(u.videoid=0),"Play next video"==a.onFinish?(u.VIDEO.shuffleBtnEnabled&&(u.VIDEO.generateRandomNumber(),u.videoid=u.VIDEO.rand),u.VIDEO.setPlaylistItem(u.videoid),u.VIDEO.playVideoById(u.videoid),u.addVimeoListeners()):"Restart video"==a.onFinish?null!=u.VIDEO.youtubePlayer&&(u.VIDEO.youtubePlayer.seekTo(0),u.VIDEO.youtubePlayer.playVideo()):"Stop video"==a.onFinish&&(u.VIDEO.pause(),u.VIDEO.state="vp_paused",u.VIDEO.youtubePlayer.stopVideo(),""!=a.posterImgOnVideoFinish&&(u.VIDEO.resetPlayer(),u.VIDEO.youtubePlayer.seekTo(0),u.VIDEO.youtubePlayer.pauseVideo(),u.VIDEO.showPoster2()))):5===e.data&&(u.VIDEO.resetPlayer(),u.VIDEO.playButtonScreen.hide()),1!==e.data||0!=i||"yes"!=u.videos_array[u.videoid].prerollAD&&!u.options.showGlobalPrerollAds?1===e.data&&0==i&&u.options.vastUrl&&""!=u.options.vastUrl&&!s.isEmptyObject(u._vast.allVastPREROLLS)&&""!=u._vast.linear?(u.VIDEO.videoAdStarted=!0,u.videoAdPlayed?u.VIDEO.youtubePlayer.playVideo():(u.VIDEO.youtubePlayer.pauseVideo(),u.VIDEO.playVAST("preroll"))):e.data!=YT.PlayerState.PLAYING&&e.data!=YT.PlayerState.CUED||(u.youtubePLAYING=!0):(u.VIDEO.videoAdStarted=!0,u.videoAdPlayed?u.VIDEO.youtubePlayer.playVideo():(u.VIDEO.youtubePlayer.pauseVideo(),n.canPlayType&&n.canPlayType("video/mp4").replace(/no/,"")&&(this.canPlay=!0,a.showGlobalPrerollAds?u.video_pathAD=u.VIDEO.globalPrerollAds_arr[u.VIDEO.getGlobalPrerollRandomNumber()]:u.video_pathAD=u.videos_array[u.videoid].preroll_mp4),u.VIDEO.loadAD(u.video_pathAD,"prerollActive"),u.VIDEO.openAD()))};var O=-1;if(s(a.videos).each(function(e){var i,t,o={id:O+=1,title:this.title,videoType:this.videoType,youtubeID:this.youtubeID,vimeoID:this.vimeoID,video_path_mp4HD:this.mp4HD,video_path_mp4SD:this.mp4SD,mp4VideoThumbnails_vtt:this.mp4VideoThumbnails_vtt,mp4VideoThumbnails_img:this.mp4VideoThumbnails_img,ccUrl:this.ccUrl,enable_mp4_download:this.enable_mp4_download,imageUrl:this.imageUrl,imageTimer:this.imageTimer,prerollAD:this.prerollAD,prerollGotoLink:this.prerollGotoLink,preroll_mp4:this.preroll_mp4,prerollSkipTimer:this.prerollSkipTimer,midrollAD:this.midrollAD,midrollAD_displayTime:this.midrollAD_displayTime,midrollGotoLink:this.midrollGotoLink,midroll_mp4:this.midroll_mp4,midrollSkipTimer:this.midrollSkipTimer,postrollAD:this.postrollAD,postrollGotoLink:this.postrollGotoLink,postroll_mp4:this.postroll_mp4,postrollSkipTimer:this.postrollSkipTimer,popupImg:this.popupImg,popupAdShow:this.popupAdShow,popupAdStartTime:this.popupAdStartTime,popupAdEndTime:this.popupAdEndTime,popupAdGoToLink:this.popupAdGoToLink,description:this.description,thumbnail_image:this.thumbImg,info_text:this.info};switch(o.title=o.title||"",o.info_text=o.info_text||"",o.description=o.description||"",o.thumbnail_image=o.thumbnail_image||"",u.videos_array.push(o),u.nowPlayingThumbnail=s("<div />"),u.nowPlayingThumbnail.addClass("elite_vp_nowPlayingThumbnail"),u.options.playlistShowOnlyThumbnails&&u.nowPlayingThumbnail.addClass("elite_vp_onlyThumbnails"),u.nowPlayingThumbnail.text(u.options.nowPlayingTooltipTxt),u.nowPlayingThumbnail.hide(),u.itemLeft=s("<div />"),u.itemLeft.addClass("elite_vp_itemLeft"),u.options.playlistShowOnlyThumbnails&&u.itemLeft.addClass("elite_vp_onlyThumbnails"),u.i=document.createElement("img"),u.i.onload=function(){u.thumbImageW=this.width,u.thumbImageH=this.height},u.i.src=o.thumbnail_image,"youtube"!=a.videos[O].videoType&&"YouTube"!=a.videoType||"auto"!=o.thumbnail_image&&""!=o.thumbnail_image&&"undefined"!=o.thumbnail_image||(u.options.playlistShowOnlyThumbnails?u.i.src="https://i.ytimg.com/vi/"+a.videos[O].youtubeID+"/mqdefault.jpg":u.i.src="http://img.youtube.com/vi/"+a.videos[O].youtubeID+"/1.jpg"),"vimeo"!=a.videos[O].videoType&&"Vimeo"!=a.videoType||u.vimeoPlayer,u.itemLeft.append(u.i),u.itemLeft.append(u.nowPlayingThumbnail),s(u.i).addClass("elite_vp_thumbnail_image elite_vp_themeColorThumbBorder"),u.options.playlistShowOnlyThumbnails||(i='<div class="elite_vp_itemRight"><div class="elite_vp_title elite_vp_themeColorText">'+o.title+'</div><div class="elite_vp_description elite_vp_controlsColor elite_vp_'+u.options.instanceTheme+'"> '+o.description+"</div></div>",t='<div class="elite_vp_itemRight_bottom"><div class="elite_vp_title elite_vp_themeColorText">'+o.title+'</div><div class="elite_vp_description elite_vp_controlsColor elite_vp_'+u.options.instanceTheme+'"> '+o.description+"</div></div>"),a.playlist){case"Right playlist":u.item=s("<div />"),u.item.addClass("elite_vp_item").css("top",String(D)+"px"),u.item_array.push(u.item),u.item.addClass("elite_vp_itemUnselected elite_vp_"+u.options.instanceTheme),u.item.append(u.itemLeft),u.item.append(i),u.options.playlistShowOnlyThumbnails?D+=153:D+=80;break;case"Bottom playlist":u.item=s("<div />"),u.item.addClass("elite_vp_item").css("left",String(0)+"px"),u.item_array.push(u.item),u.item.addClass("elite_vp_itemUnselected_bottom elite_vp_"+u.options.instanceTheme),u.item.css("display","inline-flex"),u.item.append(u.itemLeft),u.item.append(t)}null!=u.item&&(u.isMobile.any()||(u.item.mouseover(function(){s(this).addClass("elite_vp_playlistItem_hover")}),u.item.mouseout(function(){s(this).removeClass("elite_vp_playlistItem_hover")}))),u.options.playlistOrder=u.options.playlistOrder.toString(),""!=u.options.playlistOrder&&"undefined"!=u.options.playlistOrder||u.playlistContent.append(u.item),u.options.playlistShowOnlyThumbnails&&s(u.item_array[O]).addClass("elite_vp_onlyThumbnails"),"Right playlist"!=u.options.playlist&&"Bottom playlist"!=u.options.playlist||(""==o.thumbnail_image||"thumbImg"==o.thumbnail_image||"undefined"==o.thumbnail_image?(u.itemLeft.hide(),u.item.find(".elite_vp_itemRight").css({left:7,paddingTop:7,width:"240"}),u.item.find(".elite_vp_itemRight_bottom").css({paddingLeft:7,paddingTop:7,width:"240"})):""===o.thumbnail_image&&"thumbImg"===o.thumbnail_image&&"undefined"===o.thumbnail_image||(u.itemLeft.show(),u.item.find(".elite_vp_itemRight").css({left:76,paddingTop:0,width:"176"}))),null!=u.item&&u.item.bind(u.CLICK_EV,function(){u.touchmove||u.scrollingIsOn&&u.isMobile.any()||(u.preloader&&u.preloader.stop().animate({opacity:1},0,function(){s(this).show()}),u.videoid=o.id,u.VIDEO.setPlaylistItem(u.videoid),u.VIDEO.resetPlayer(),u.VIDEO.resetPlayerAD(),u.VIDEO.resizeAll(),u.VIDEO.playVideoById(u.videoid),u.addVimeoListeners(),u.youtubeSTARTED=!1,u.vimeoSTARTED=!1,h&&"AD 5 sec + Pieces After Effects project"!=u.options.videos[0].title&&"Pieces After Effects project"!=u.options.videos[0].title&&"AD 5 sec + Space Odyssey After Effects Project"!=u.options.videos[0].title&&"AD 5 sec Swimwear Spring Summer"!=u.options.videos[0].title&&"i Create"!=u.options.videos[0].title&&"Swimwear Spring Summer"!=u.options.videos[0].title&&"PLuFX50GllfgP_mecAi4LV7cYva-WLVnaM"!=u.options.youtubePlaylistID&&"Google drive video example"!=u.options.videos[0].title&&"Dropbox video example"!=u.options.videos[0].title&&"Livestream HLS m3u8 video example"!=u.options.videos[0].title&&"Openload video example"!=u.options.videos[0].title&&"Youtube 360 VR video"!=u.options.videos[0].title&&"Subtitles video example"!=u.options.videos[0].title&&"Live YouTube"!=u.options.videos[0].title&&"HTML5 Live video thumbnails"!=u.options.videos[0].title&&"HTML5 vtt video thumbnails"!=u.options.videos[0].title&&u.VIDEO.pw())})}),"Yes"==a.loadRandomVideoOnStart?u.videoid=u.rand:u.videoid=0,u.params.id&&(u.videoid=u.rand=parseInt(u.params.id)),""!=u.options.playlistOrder&&"undefined"!=u.options.playlistOrder){var V=a.playlistOrder.split(",");"Yes"==a.loadRandomVideoOnStart?u.rand=parseInt(V[Math.floor(Math.random()*V.length)]):u.videoid=parseInt(V[0]);for(var E=0;E<=V.length-1;E++)if(u.playlistContent.append(u.item_array[V[E]]),u.item_array.length-1<V[E])for(E=u.videoid=0;E<=u.options.videos.length-1;E++)u.playlistContent.append(u.item_array[E])}switch(u.options.playlist){case"Right playlist":"Yes"==a.loadRandomVideoOnStart?(s(u.item_array[u.rand]).removeClass("elite_vp_itemUnselected elite_vp_"+this.options.instanceTheme).addClass("elite_vp_itemSelected elite_vp_"+this.options.instanceTheme),u.item_array[u.rand].find(".elite_vp_thumbnail_image").removeClass("elite_vp_thumbnail_image").addClass("elite_vp_thumbnail_imageSelected"),u.VIDEO.playedVideos.push(u.rand)):(s(u.item_array[u.videoid]).removeClass("elite_vp_itemUnselected elite_vp_"+this.options.instanceTheme).addClass("elite_vp_itemSelected elite_vp_"+this.options.instanceTheme),u.item_array[u.videoid].find(".elite_vp_thumbnail_image").removeClass("elite_vp_thumbnail_image").addClass("elite_vp_thumbnail_imageSelected"),u.VIDEO.playedVideos.push(u.videoid));break;case"Bottom playlist":"Yes"==a.loadRandomVideoOnStart?(s(u.item_array[u.rand]).removeClass("elite_vp_itemUnselected_bottom elite_vp_"+this.options.instanceTheme).addClass("elite_vp_itemSelected_bottom elite_vp_"+this.options.instanceTheme),u.item_array[u.rand].find(".elite_vp_thumbnail_image").removeClass("elite_vp_thumbnail_image").addClass("elite_vp_thumbnail_imageSelected"),u.VIDEO.playedVideos.push(u.rand)):(s(u.item_array[u.videoid]).removeClass("elite_vp_itemUnselected_bottom elite_vp_"+this.options.instanceTheme).addClass("elite_vp_itemSelected_bottom elite_vp_"+this.options.instanceTheme),u.item_array[u.videoid].find(".elite_vp_thumbnail_image").removeClass("elite_vp_thumbnail_image").addClass("elite_vp_thumbnail_imageSelected"),u.VIDEO.playedVideos.push(u.videoid))}if(s(u.playlistContent).mCustomScrollbar("scrollTo",u.item_array[u.videoid]),"youtube"==a.videos[u.videoid].videoType||"YouTube"==a.videoType)u.VIDEO.imageWrapper.css({zIndex:0}),u.VIDEO.imageWrapper.css({visibility:"none"}),u.VIDEO.hideVideoElements(),u.preloader.stop().animate({opacity:0},0,function(){s(this).hide()}),u.VIDEO.ytWrapper.css({zIndex:501}),u.VIDEO.ytWrapper.css({visibility:"visible"}),u.vimeoWrapper.css({zIndex:0});else if("HTML5"==a.videos[u.videoid].videoType||"HTML5 (self-hosted)"==a.videoType){if(u.VIDEO.imageWrapper.css({zIndex:0}),u.VIDEO.imageWrapper.css({visibility:"none"}),u.VIDEO.ytWrapper.css({zIndex:0}),u.VIDEO.ytWrapper.css({visibility:"hidden"}),u.vimeoWrapper.css({zIndex:0}),n.canPlayType&&n.canPlayType("video/mp4").replace(/no/,""))if(this.canPlay=!0,"Yes"==a.loadRandomVideoOnStart){switch(a.HTML5VideoQuality){case"HD":u.video_path=u.videos_array[u.rand].video_path_mp4HD;break;case"SD":u.video_path=u.videos_array[u.rand].video_path_mp4SD}u.video_pathAD=u.videos_array[u.rand].preroll_mp4}else if("No"==a.loadRandomVideoOnStart){switch(a.HTML5VideoQuality){case"HD":u.video_path=u.videos_array[u.videoid].video_path_mp4HD;break;case"SD":u.video_path=u.videos_array[u.videoid].video_path_mp4SD}u.video_pathAD=u.videos_array[u.videoid].preroll_mp4}u.VIDEO.load(u.video_path,"0")}else"vimeo"==a.videos[u.videoid].videoType||"Vimeo"==a.videoType?(u.VIDEO.imageWrapper.css({zIndex:0}),u.VIDEO.imageWrapper.css({visibility:"none"}),u.VIDEO.hideCustomControls(),u.VIDEO.hideVideoElements(),u.preloader.stop().animate({opacity:0},700,function(){s(this).hide()}),u.vimeoWrapper.css({zIndex:501}),a.autoplay?(this.vimeoAutoplay=!0,this.vimeoMuted=!0):(this.vimeoAutoplay=!1,this.vimeoMuted=!1),this.vimeoPlaysinline=!0,this.vimeoColor=a.vimeoColor,a.autoplay&&(this.vimeoAutoplay=!0,this.vimeoMuted=!0),m={url:"https://player.vimeo.com/video/"+u.videos_array[u.videoid].vimeoID+"?h=8272103f6e",autoplay:this.vimeoAutoplay,muted:this.vimeoMuted,playsinline:this.vimeoPlaysinline,color:this.vimeoColor},u.vimeoPlayer=new Vimeo.Player(this.vimeoWrapper,m),u.addVimeoListeners()):"image"!=a.videos[u.videoid].videoType&&"Image"!=a.videoType||(u.VIDEO.hideCustomControls(),u.VIDEO.hideVideoElements(),u.VIDEO.ytWrapper.css({zIndex:0}),u.VIDEO.ytWrapper.css({visibility:"hidden"}),u.vimeoWrapper.css({zIndex:0}),u.vimeoWrapper.css({visibility:"hidden"}),u.VIDEO.imageWrapper.css({zIndex:502}),u.VIDEO.imageWrapper.css({visibility:"visible"}),u.VIDEO.imageDisplayed.src=u.videos_array[0].imageUrl,s(u.VIDEO.imageDisplayed).on("load",function(){a.autoplay&&u.VIDEO.setImageTimer()}));u.nextBtn.bind(u.CLICK_EV,function(){u.VIDEO.shuffleBtnEnabled?(u.VIDEO.generateRandomNumber(),u.videoid=u.VIDEO.rand):(u.videoid=u.videoid+1,u.videoid>=a.videos.length&&(u.videoid=0)),u.VIDEO.setPlaylistItem(u.videoid),u.VIDEO.playVideoById(u.videoid),u.addVimeoListeners()}),u.previousBtn.bind(u.CLICK_EV,function(){u.VIDEO.shuffleBtnEnabled?(u.VIDEO.generateRandomNumber(),u.videoid=u.VIDEO.rand):(u.videoid=u.videoid-1,u.videoid<0&&(u.videoid=a.videos.length-1)),u.VIDEO.setPlaylistItem(u.videoid),u.VIDEO.playVideoById(u.videoid),u.addVimeoListeners()}),u.shuffleBtn.bind(u.CLICK_EV,function(){u.VIDEO.toggleShuffleBtn()}),u.lastBtn.bind(u.CLICK_EV,function(){s(u.playlistContent).mCustomScrollbar("scrollTo","last")}),u.firstBtn.bind(u.CLICK_EV,function(){s(u.playlistContent).mCustomScrollbar("scrollTo","first")}),u.totalWidth=a.videoPlayerWidth,u.totalHeight=a.videoPlayerHeight,"Right playlist"!=a.playlist&&"Bottom playlist"!=a.playlist||u.element&&(i.append(u.playlist),u.playlist.append(u.playlistContent)),this.playlistW=this.playlist.width(),this.playlistH=this.playlist.height(),"Right playlist"==a.playlist?(u.playlistContent.css("height",String(D)+"px"),u.playerWidth=u.totalWidth-u.playlist.width(),u.playerHeight=u.totalHeight-u.playlist.height(),u.playlist.css({height:"100%",top:0}),u.playlistContent.height(i.height()-50),s(u.playlistContent).mCustomScrollbar({axis:"y",theme:u.options.playlistScrollType,scrollButtons:{enable:!0},snapOffset:50,callbacks:{onScrollStart:function(){u.isMobile.any()&&setTimeout(function(){u.scrollingIsOn=!0},50)},onScroll:function(){u.isMobile.any()&&(u.scrollingIsOn=!1,u.touchmove=!1)},whileScrolling:function(){}}})):"Bottom playlist"==a.playlist&&(u.playlistContent.css("width",String(0)+"px"),u.playerWidth=u.totalWidth,u.playerHeight=u.totalHeight-u.playlist.height(),u.playlist.css({left:0,width:"100%",bottom:0}),u.playlistContent.width(i.width()),s(u.playlistContent).mCustomScrollbar({axis:"x",theme:u.options.playlistScrollType,scrollButtons:{enable:!0},callbacks:{onScrollStart:function(){u.isMobile.any()&&setTimeout(function(){u.scrollingIsOn=!0},50)},onScroll:function(){u.isMobile.any()&&(u.scrollingIsOn=!1,u.touchmove=!1)},whileScrolling:function(){}},advanced:{autoExpandHorizontalScroll:!0},setHeight:"auto",setWidth:"auto"})),s(u.playlistContent).mCustomScrollbar("scrollTo",u.item_array[u.videoid]),s("body").bind("touchmove",function(e){u.touchmove=!0})},PLAYER.Playlist.prototype={},PLAYER.Playlist.prototype.hidePlaylist=function(){this.playlist.hide()},PLAYER.Playlist.prototype.showPlaylist=function(){this.playlist.show()},PLAYER.Playlist.prototype.resizePlaylist=function(e,i){switch(this.options.playlist){case"Right playlist":this.playlist.css({right:0,height:"100%"}),this.playlistContent.css({top:0,height:this.mainContainer.height()-50}),this.playlistContent.height(this.mainContainer.height()-this.playlistBar.height());break;case"Bottom playlist":this.playlist.css({left:0,width:"100%",bottom:0}),this.playlistContent.height(this.playlist.height()-this.playlistBar.height())}this.playlistBarInside.css({left:this.playlistBar.width()/2-this.playlistBarInside.width()/2})},PLAYER.Playlist.prototype.playYoutube=function(e){null!=this.VIDEO.youtubePlayer&&(this.VIDEO.youtubePlayer.cueVideoById(this.videos_array[e].youtubeID),this.VIDEO.youtubePlayer.setPlaybackQuality(this.ytQuality),this.preloader.hide(),this.VIDEO.ytWrapper.css({zIndex:501}),this.VIDEO.ytWrapper.css({visibility:"visible"}),this.VIDEO.youtubePlayer.playVideo()),this.VIDEO.resizeAll()},PLAYER.Playlist.prototype.addVimeoListeners=function(){var i=this;this.vimeoPlayer.on("pause",function(){i.onPauseVimeo()}),this.vimeoPlayer.on("ended",function(){i.onFinishVimeo()}),this.vimeoPlayer.on("timeupdate",function(e){i.onTimeupdate(e)}),this.vimeoPlayer.on("volumechange",function(e){i.onVolumeChangeVimeo(e)})},PLAYER.Playlist.prototype.onPauseVimeo=function(){},PLAYER.Playlist.prototype.onFinishVimeo=function(){this.videoAdPlayed=!1,this.VIDEO.gaVideoEnded(),"Right playlist"==this.options.playlist||"Bottom playlist"==this.options.playlist||"Off"==this.options.playlist?(this.videoid=parseInt(this.videoid)+1,this.videos_array.length==this.videoid&&(this.videoid=0),"Play next video"==this.options.onFinish?(this.VIDEO.shuffleBtnEnabled&&(this.VIDEO.generateRandomNumber(),this.videoid=this.VIDEO.rand),this.VIDEO.setPlaylistItem(this.videoid),this.VIDEO.playVideoById(this.videoid),this.addVimeoListeners()):"Restart video"==this.options.onFinish?this.VIDEO.vimeoPlay():"Stop video"==this.options.onFinish&&""!=this.options.posterImgOnVideoFinish&&this.VIDEO.showPoster2()):"Restart video"==this.options.onFinish&&this.VIDEO.vimeoPlay()},PLAYER.Playlist.prototype.onTimeupdate=function(e){var i=this;if(this.vimeo_time=Math.floor(e.seconds),this.vimeo_percentage=parseInt(100*e.percent),this.vimeo_duration=Math.floor(e.duration),0==this.vimeo_time&&"yes"==this.videos_array[this.videoid].prerollAD?(this.VIDEO.videoAdStarted=!0,this.videoAdPlayed?this.VIDEO.vimeoPlay():(this.vimeoPlayer.pause(),this.myVideo.canPlayType&&this.myVideo.canPlayType("video/mp4").replace(/no/,"")&&(this.canPlay=!0,this.video_pathAD=this.videos_array[this.videoid].preroll_mp4),this.VIDEO.loadAD(this.video_pathAD,"prerollActive"),this.VIDEO.openAD())):0==this.vimeo_time&&this.options.vastUrl&&""!=this.options.vastUrl&&!$.isEmptyObject(this._vast.allVastPREROLLS)&&""!=this._vast.linear&&(this.VIDEO.videoAdStarted=!0,this.videoAdPlayed?this.VIDEO.vimeoPlay():(this.vimeoPlayer.pause(),this.vimeoSTARTED||this.VIDEO.playVAST("preroll"),this.vimeoSTARTED=!0)),this.tim=setInterval(function(){if("HTML5"!=i.options.videos[i.videoid].videoType&&"HTML5 (self-hosted)"!=i.options.videoType){if(i.VIDEO.secondsFormat(i.vimeo_time)==i.videos_array[i.videoid].midrollAD_displayTime){if(i.VIDEO.midrollPlayed)return;i.VIDEO.midrollPlayed=!0,"yes"==i.videos_array[i.videoid].midrollAD&&(i.myVideo.canPlayType&&i.myVideo.canPlayType("video/mp4").replace(/no/,"")&&(i.canPlay=!0,i.video_pathAD=i.videos_array[i.videoid].midroll_mp4),i.vimeoPlayer.pause(),i.VIDEO.loadAD(i.video_pathAD,"midrollActive"),i.VIDEO.openAD())}if(i.VIDEO.secondsFormat(i.vimeo_time)>=i.VIDEO.secondsFormat(i.vimeo_duration-1)&&0<i.vimeo_duration){if(i.VIDEO.postrollPlayed)return;i.VIDEO.postrollPlayed=!0,"yes"==i.videos_array[i.videoid].postrollAD&&(i.myVideo.canPlayType&&i.myVideo.canPlayType("video/mp4").replace(/no/,"")&&(i.canPlay=!0,i.video_pathAD=i.videos_array[i.videoid].postroll_mp4),i.vimeoPlayer.pause(),i.VIDEO.loadAD(i.video_pathAD,"postrollActive"),i.VIDEO.openAD())}if(i.options.vastUrl&&""!=i.options.vastUrl&&!$.isEmptyObject(i._vast.allVastMIDROLLS)){if(i.VIDEO.MIDROLLS_INDEX==Object.keys(i._vast.allVastMIDROLLS).length)return;-1!=i._vast.allVastMIDROLLS[i.VIDEO.MIDROLLS_INDEX].timeOffset.indexOf(":")?parseInt(i.vimeo_time)===i._vast.convertTimeStringToSeconds(i._vast.allVastMIDROLLS[i.VIDEO.MIDROLLS_INDEX].timeOffset)?(i.vimeoPlayer.pause(),i.VIDEO.IS_MIDROLLS_ACTIVE||i.VIDEO.playVAST("midroll"),i.VIDEO.IS_MIDROLLS_ACTIVE=!0):i.VIDEO.IS_MIDROLLS_ACTIVE=!1:-1!=i._vast.allVastMIDROLLS[i.VIDEO.MIDROLLS_INDEX].timeOffset.indexOf("%")&&(i.vimeo_percentage===parseInt(i._vast.allVastMIDROLLS[i.VIDEO.MIDROLLS_INDEX].timeOffset)?(i.vimeoPlayer.pause(),i.VIDEO.IS_MIDROLLS_ACTIVE||i.VIDEO.playVAST("midroll"),i.VIDEO.IS_MIDROLLS_ACTIVE=!0):i.VIDEO.IS_MIDROLLS_ACTIVE=!1)}i.options.vastUrl&&""!=i.options.vastUrl&&($.isEmptyObject(i._vast.allVastNONLINEARS)||i.VIDEO.NONLINEARS_INDEX!=Object.keys(i._vast.allVastNONLINEARS).length&&(-1!=i._vast.allVastNONLINEARS[i.VIDEO.NONLINEARS_INDEX].timeOffset.indexOf(":")&&parseInt(i.vimeo_time)===i._vast.convertTimeStringToSeconds(i._vast.allVastNONLINEARS[i.VIDEO.NONLINEARS_INDEX].timeOffset)&&(setTimeout(function(){i.VIDEO.adOn=!0,i.VIDEO.togglePopup()},1e3*i._vast.convertTimeStringToSeconds(i._vast.allVastNONLINEARS[i.VIDEO.NONLINEARS_INDEX].minSuggestedDuration)),i.VIDEO.playVAST("nonlinear")),-1!=i._vast.allVastNONLINEARS[i.VIDEO.NONLINEARS_INDEX].timeOffset.indexOf("%")&&i.vimeo_percentage===parseInt(i._vast.allVastNONLINEARS[i.VIDEO.NONLINEARS_INDEX].timeOffset)&&(setTimeout(function(){i.VIDEO.adOn=!0,i.VIDEO.togglePopup()},1e3*i._vast.convertTimeStringToSeconds(i._vast.allVastNONLINEARS[i.VIDEO.NONLINEARS_INDEX].minSuggestedDuration)),i.VIDEO.playVAST("nonlinear"))))}},50),this.VIDEO.secondsFormat(this.vimeo_time)>=this.VIDEO.secondsFormat(this.vimeo_duration-1)&&0<this.vimeo_duration){if(this.VIDEO.postrollPlayed)return;this.VIDEO.postrollPlayed=!0,this.options.vastUrl&&""!=this.options.vastUrl&&($.isEmptyObject(this._vast.allVastPOSTROLLS)||(this.vimeoPlayer.pause(),this.VIDEO.playVAST("postroll"),this.VIDEO.IS_POSTROLLS_ACTIVE=!0)),"yes"==this.videos_array[this.videoid].postrollAD&&(this.myVideo.canPlayType&&this.myVideo.canPlayType("video/mp4").replace(/no/,"")&&(this.canPlay=!0,this.video_pathAD=this.videos_array[this.videoid].postroll_mp4),this.vimeoPlayer.pause(),this.VIDEO.loadAD(this.video_pathAD,"postrollActive"),this.VIDEO.openAD())}else this.VIDEO.IS_POSTROLLS_ACTIVE=!1;"yes"==this.videos_array[this.videoid].popupAdShow&&this.VIDEO.enablePopup()},PLAYER.Playlist.prototype.onVolumeChangeVimeo=function(e){var i=this;this.VIDEO.hideMutedBox(),this.vimeoPlayer.getVolume().then(function(e){i.vimeoMuted=!1,i.VIDEO.volRatio=e,i.VIDEO.volPerc=e,i.VIDEO.savedVolumeBarWidth=i.VIDEO.volumeTrack.width()*e,i.VIDEO.volumeTrackProgress.width(i.VIDEO.savedVolumeBarWidth)})};